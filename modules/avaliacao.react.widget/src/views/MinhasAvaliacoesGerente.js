import React from 'react';import AvaliacaoCard from '../components/AvaliacaoCard';import LoadingSpinner from '../components/LoadingSpinner';import apiService from '../services/api';class MinhasAvaliacoesGerente extends React.Component{constructor(props){super(props);this.state={avaliacoes:[],loading:true,error:null};}componentDidMount(){var self=this;apiService.getAllAvaliacoes().then(function(data){self.setState({avaliacoes:data,loading:false});}).catch(function(error){self.setState({loading:false,error:error.message});});}handlePreencher(avaliacaoId){var self=this;apiService.getAvaliacaoDetalhes(avaliacaoId).then(function(detalhes){var detalhe=detalhes.find(function(d){return d.tipoAvaliador===2;});if(!detalhe){alert('Detalhe n√£o encontrado');return;}self.props.onNavigate('preencher-detalhe',{avaliacaoId:avaliacaoId,detalheId:detalhe.avaliacaoDetalheId,tipoAvaliador:2,detalhe:detalhe});}).catch(function(error){alert('Erro: '+error.message);});}render(){var self=this;if(this.state.loading)return React.createElement(LoadingSpinner,{fullScreen:true});if(this.state.error)return React.createElement('div',null,'‚ùå '+this.state.error);return React.createElement('div',{className:'minhas-avaliacoes-container'},React.createElement('h1',{className:'page-title'},'üìà Gerente'),React.createElement('p',{className:'page-subtitle'},'Total: '+this.state.avaliacoes.length),this.state.avaliacoes.length===0?React.createElement('p',{className:'empty-message'},'Nenhuma avalia√ß√£o'):React.createElement('div',{className:'avaliacoes-list'},this.state.avaliacoes.map(function(av){return React.createElement(AvaliacaoCard,{key:av.avaliacaoId,avaliacao:av,onPreencher:function(){self.handlePreencher(av.avaliacaoId);},onVerDetalhes:function(){self.props.onNavigate('detalhes-avaliacao',{avaliacaoId:av.avaliacaoId});}});})
));}
}export default MinhasAvaliacoesGerente;