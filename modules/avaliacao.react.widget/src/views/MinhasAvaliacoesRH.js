import React from 'react';import AvaliacaoCard from '../components/AvaliacaoCard';import LoadingSpinner from '../components/LoadingSpinner';import apiService from '../services/api';class MinhasAvaliacoesRH extends React.Component{constructor(props){super(props);this.state={avaliacoes:[],loading:true,error:null};}componentDidMount(){var self=this;apiService.getAllAvaliacoes().then(function(data){self.setState({avaliacoes:data,loading:false});}).catch(function(error){self.setState({loading:false,error:error.message});});}handlePreencher(avaliacaoId){var self=this;apiService.getAvaliacaoDetalhes(avaliacaoId).then(function(detalhes){var detalhe=detalhes.find(function(d){return d.tipoAvaliador===3;});if(!detalhe){alert('Detalhe n√£o encontrado');return;}self.props.onNavigate('preencher-detalhe',{avaliacaoId:avaliacaoId,detalheId:detalhe.avaliacaoDetalheId,tipoAvaliador:3,detalhe:detalhe});}).catch(function(error){alert('Erro: '+error.message);});}render(){var self=this;if(this.state.loading)return React.createElement(LoadingSpinner,{fullScreen:true});if(this.state.error)return React.createElement('div',null,'‚ùå '+this.state.error);return React.createElement('div',{className:'minhas-avaliacoes-container'},React.createElement('div',{className:'page-header'},React.createElement('div',null,React.createElement('h1',{className:'page-title'},'üëî RH'),React.createElement('p',{className:'page-subtitle'},'Total: '+this.state.avaliacoes.length)),React.createElement('button',{className:'btn btn-primary',onClick:function(){self.props.onNavigate('nova-avaliacao');}},'‚ûï Nova')),this.state.avaliacoes.length===0?React.createElement('div',{className:'empty-state'},React.createElement('p',null,'üìã Nenhuma avalia√ß√£o'),React.createElement('button',{className:'btn btn-primary',onClick:function(){self.props.onNavigate('nova-avaliacao');}},'Criar')):React.createElement('div',{className:'avaliacoes-list'},this.state.avaliacoes.map(function(av){return React.createElement(AvaliacaoCard,{key:av.avaliacaoId,avaliacao:av,onPreencher:function(){self.handlePreencher(av.avaliacaoId);},onVerDetalhes:function(){self.props.onNavigate('detalhes-avaliacao',{avaliacaoId:av.avaliacaoId});}});})
));}
}export default MinhasAvaliacoesRH;